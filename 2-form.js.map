{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = { email: '', message: '' };\nconst STORAGE_KEY = 'feedback-form-state';\nconst feedback = document.querySelector('.feedback-form');\n\nconst savedData = loadLS(STORAGE_KEY, {});\nformData.email = savedData.email || '';\nformData.message = savedData.message || '';\n\nfeedback.elements.email.value = formData.email;\nfeedback.elements.message.value = formData.message;\n\nfeedback.addEventListener('input', getFormData);\nfeedback.addEventListener('submit', onFormSubmit);\n\nfunction getFormData(event) {\n  const name = event.target.name;\n  const value = event.target.value;\n  formData[name] = value;\n  saveLS(STORAGE_KEY, formData);\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  if (\n    formData.email.trim().length === 0 ||\n    formData.message.trim().length === 0\n  ) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem(STORAGE_KEY);\n  feedback.reset();\n\n  formData.email = '';\n  formData.message = '';\n}\n\nfunction saveLS(key, value) {\n  try {\n    const json = JSON.stringify(value);\n    localStorage.setItem(key, json);\n  } catch (error) {\n    console.log('Error');\n  }\n}\n\nfunction loadLS(key, defaultValue) {\n  try {\n    const json = localStorage.getItem(key);\n    return json === null ? defaultValue : JSON.parse(json);\n  } catch (error) {\n    console.log('Error');\n  }\n}\n"],"names":["formData","STORAGE_KEY","feedback","savedData","loadLS","getFormData","onFormSubmit","event","name","value","saveLS","key","json","defaultValue"],"mappings":"wFAAA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAc,sBACdC,EAAW,SAAS,cAAc,gBAAgB,EAElDC,EAAYC,EAAOH,EAAa,CAAA,CAAE,EACxCD,EAAS,MAAQG,EAAU,OAAS,GACpCH,EAAS,QAAUG,EAAU,SAAW,GAExCD,EAAS,SAAS,MAAM,MAAQF,EAAS,MACzCE,EAAS,SAAS,QAAQ,MAAQF,EAAS,QAE3CE,EAAS,iBAAiB,QAASG,CAAW,EAC9CH,EAAS,iBAAiB,SAAUI,CAAY,EAEhD,SAASD,EAAYE,EAAO,CAC1B,MAAMC,EAAOD,EAAM,OAAO,KACpBE,EAAQF,EAAM,OAAO,MAC3BP,EAASQ,CAAI,EAAIC,EACjBC,EAAOT,EAAaD,CAAQ,CAC9B,CAEA,SAASM,EAAaC,EAAO,CAG3B,GAFAA,EAAM,eAAc,EAGlBP,EAAS,MAAM,KAAM,EAAC,SAAW,GACjCA,EAAS,QAAQ,KAAM,EAAC,SAAW,EACnC,CACA,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAWC,CAAW,EACnCC,EAAS,MAAK,EAEdF,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,CAEA,SAASU,EAAOC,EAAKF,EAAO,CAC1B,GAAI,CACF,MAAMG,EAAO,KAAK,UAAUH,CAAK,EACjC,aAAa,QAAQE,EAAKC,CAAI,CAC/B,MAAe,CACd,QAAQ,IAAI,OAAO,CACpB,CACH,CAEA,SAASR,EAAOO,EAAKE,EAAc,CACjC,GAAI,CACF,MAAMD,EAAO,aAAa,QAAQD,CAAG,EACrC,OAAOC,IAAS,KAAOC,EAAe,KAAK,MAAMD,CAAI,CACtD,MAAe,CACd,QAAQ,IAAI,OAAO,CACpB,CACH"}